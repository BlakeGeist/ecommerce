<%= render 'templates/header' %>

  <%= product_detail('description').length %>

  <%= @product_description %>

<main>

  <div class='product'>

    <div class="product-details">

      <h1><%= @product.name %></h1>

      <h2 class="product-details-item mod-brand"><%= product_detail('brand') %> - <%= product_detail('features') %></h2>

      <div class="product-details-item mod-description"><%= raw product_detail('description') %></div>

      <p><strong>Width/Diameter:</strong> <%= product_detail('width_or_diameter') %> | <strong>Length:</strong> <%= product_detail('length') %> | <strong>Weight:</strong> <%= product_detail('weight') %></p>

      <div class="product-details-controlls">

        <span class="product-details-price">Price $<%= proffit_point(product_detail('price')) %></span>

        <%= link_to 'Add to Cart', {controller: 'cart_items', action: "create", product_id: @product.id}, :method => :post, remote: true %>

      </div>

    </div>

    <div class="product-images">

      <% if @product.product_photos.first %>

        <div class="product-images-image">

          <%= image_tag(@product.product_photos.first.image.url('medium'), class: 'products-product-image') %>

        </div>

        <% if @product.product_photos.second %>

          <div class="product-images-bar">

            <% @product.product_photos.each do |photo| %>

              <div class="product-images-bar-image" data-product-photo="<%= photo.id %>">

                <%= image_tag(photo.image.url('medium')) %>

              </div>

            <% end %>

          </div>

          <% end %>

      <% end %>

    </div>

  </div>

  <div class="product-sidebar">

    <h3>Similar Products</h3>

    <%= render '/templates/products' %>

  </div>

</main>

<%= render 'templates/footer' %>
